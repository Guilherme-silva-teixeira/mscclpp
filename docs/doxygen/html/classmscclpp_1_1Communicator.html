<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MSCCL++: mscclpp::Communicator Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MSCCL++
   </div>
   <div id="projectbrief">GPU-driven computation &amp; communication stack</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacemscclpp.html">mscclpp</a></li><li class="navelem"><a class="el" href="classmscclpp_1_1Communicator.html">Communicator</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classmscclpp_1_1Communicator-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">mscclpp::Communicator Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="core_8hpp_source.html">core.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a11b52d62f42d5deecdfc74ea6cad2089"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmscclpp_1_1Communicator.html#a11b52d62f42d5deecdfc74ea6cad2089">Communicator</a> (std::shared_ptr&lt; <a class="el" href="classmscclpp_1_1Bootstrap.html">Bootstrap</a> &gt; <a class="el" href="classmscclpp_1_1Communicator.html#a3f6184e06629f370d23fa67170c358c4">bootstrap</a>, std::shared_ptr&lt; <a class="el" href="classmscclpp_1_1Context.html">Context</a> &gt; <a class="el" href="classmscclpp_1_1Communicator.html#ab242faa5778c1f8a9abdb1e95b5274ca">context</a>=nullptr)</td></tr>
<tr class="separator:a11b52d62f42d5deecdfc74ea6cad2089"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9d3df40a651fd623e6bbba149d34127"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmscclpp_1_1Communicator.html#af9d3df40a651fd623e6bbba149d34127">~Communicator</a> ()</td></tr>
<tr class="memdesc:af9d3df40a651fd623e6bbba149d34127"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy the communicator.  <a href="classmscclpp_1_1Communicator.html#af9d3df40a651fd623e6bbba149d34127">More...</a><br /></td></tr>
<tr class="separator:af9d3df40a651fd623e6bbba149d34127"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f6184e06629f370d23fa67170c358c4"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="classmscclpp_1_1Bootstrap.html">Bootstrap</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmscclpp_1_1Communicator.html#a3f6184e06629f370d23fa67170c358c4">bootstrap</a> ()</td></tr>
<tr class="separator:a3f6184e06629f370d23fa67170c358c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab242faa5778c1f8a9abdb1e95b5274ca"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="classmscclpp_1_1Context.html">Context</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmscclpp_1_1Communicator.html#ab242faa5778c1f8a9abdb1e95b5274ca">context</a> ()</td></tr>
<tr class="separator:ab242faa5778c1f8a9abdb1e95b5274ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a537a32056272f718ca913a23bde5f1c8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmscclpp_1_1RegisteredMemory.html">RegisteredMemory</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmscclpp_1_1Communicator.html#a537a32056272f718ca913a23bde5f1c8">registerMemory</a> (void *ptr, size_t size, <a class="el" href="classmscclpp_1_1TransportFlags.html">TransportFlags</a> transports)</td></tr>
<tr class="separator:a537a32056272f718ca913a23bde5f1c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad17015b7dc79d3848e39c844d69b785c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmscclpp_1_1Communicator.html#ad17015b7dc79d3848e39c844d69b785c">sendMemoryOnSetup</a> (<a class="el" href="classmscclpp_1_1RegisteredMemory.html">RegisteredMemory</a> memory, int remoteRank, int tag)</td></tr>
<tr class="separator:ad17015b7dc79d3848e39c844d69b785c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a78462696471fbc78784be5e4448499"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmscclpp_1_1NonblockingFuture.html">NonblockingFuture</a>&lt; <a class="el" href="classmscclpp_1_1RegisteredMemory.html">RegisteredMemory</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmscclpp_1_1Communicator.html#a1a78462696471fbc78784be5e4448499">recvMemoryOnSetup</a> (int remoteRank, int tag)</td></tr>
<tr class="separator:a1a78462696471fbc78784be5e4448499"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80c0ba6e6ccfdd827521a03535e575e6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmscclpp_1_1NonblockingFuture.html">NonblockingFuture</a>&lt; std::shared_ptr&lt; <a class="el" href="classmscclpp_1_1Connection.html">Connection</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmscclpp_1_1Communicator.html#a80c0ba6e6ccfdd827521a03535e575e6">connectOnSetup</a> (int remoteRank, int tag, <a class="el" href="structmscclpp_1_1EndpointConfig.html">EndpointConfig</a> localConfig)</td></tr>
<tr class="separator:a80c0ba6e6ccfdd827521a03535e575e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1791887f6a3197ab46253b948077d1a1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmscclpp_1_1Communicator.html#a1791887f6a3197ab46253b948077d1a1">remoteRankOf</a> (const <a class="el" href="classmscclpp_1_1Connection.html">Connection</a> &amp;connection)</td></tr>
<tr class="separator:a1791887f6a3197ab46253b948077d1a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d7c2f328081e381014fa6c5598988e6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmscclpp_1_1Communicator.html#a3d7c2f328081e381014fa6c5598988e6">tagOf</a> (const <a class="el" href="classmscclpp_1_1Connection.html">Connection</a> &amp;connection)</td></tr>
<tr class="separator:a3d7c2f328081e381014fa6c5598988e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a6489423bc5cb54d82062344f6f14c4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmscclpp_1_1Communicator.html#a6a6489423bc5cb54d82062344f6f14c4">onSetup</a> (std::shared_ptr&lt; <a class="el" href="structmscclpp_1_1Setuppable.html">Setuppable</a> &gt; setuppable)</td></tr>
<tr class="separator:a6a6489423bc5cb54d82062344f6f14c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae26dc138f2b2cbf14bfcb7e39266ca0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmscclpp_1_1Communicator.html#aae26dc138f2b2cbf14bfcb7e39266ca0">setup</a> ()</td></tr>
<tr class="separator:aae26dc138f2b2cbf14bfcb7e39266ca0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A class that sets up all registered memories and connections between processes.</p>
<p>A typical way to use this class:</p><ol type="1">
<li>Call <a class="el" href="classmscclpp_1_1Communicator.html#a80c0ba6e6ccfdd827521a03535e575e6">connectOnSetup()</a> to declare connections between the calling process with other processes.</li>
<li>Call <a class="el" href="classmscclpp_1_1Communicator.html#a537a32056272f718ca913a23bde5f1c8">registerMemory()</a> to register memory regions that will be used for communication.</li>
<li>Call <a class="el" href="classmscclpp_1_1Communicator.html#ad17015b7dc79d3848e39c844d69b785c">sendMemoryOnSetup()</a> or <a class="el" href="classmscclpp_1_1Communicator.html#a1a78462696471fbc78784be5e4448499">recvMemoryOnSetup()</a> to send/receive registered memory regions to/from other processes.</li>
<li>Call <a class="el" href="classmscclpp_1_1Communicator.html#aae26dc138f2b2cbf14bfcb7e39266ca0">setup()</a> to set up all registered memories and connections declared in the previous steps.</li>
<li>Call <a class="el" href="classmscclpp_1_1NonblockingFuture.html#ab79350c4b28c219a5d85bd59c23ed165">NonblockingFuture&lt;RegisteredMemory&gt;::get()</a> to get the registered memory regions received from other processes.</li>
<li>All done; use connections and registered memories to build channels. </li>
</ol>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a11b52d62f42d5deecdfc74ea6cad2089"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11b52d62f42d5deecdfc74ea6cad2089">&#9670;&nbsp;</a></span>Communicator()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mscclpp::Communicator::Communicator </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classmscclpp_1_1Bootstrap.html">Bootstrap</a> &gt;&#160;</td>
          <td class="paramname"><em>bootstrap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classmscclpp_1_1Context.html">Context</a> &gt;&#160;</td>
          <td class="paramname"><em>context</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes the communicator with a given bootstrap implementation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bootstrap</td><td>An implementation of the <a class="el" href="classmscclpp_1_1Bootstrap.html" title="Base class for bootstraps.">Bootstrap</a> that the communicator will use. </td></tr>
    <tr><td class="paramname">context</td><td>An optional context to use for the communicator. If not provided, a new context will be created. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af9d3df40a651fd623e6bbba149d34127"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9d3df40a651fd623e6bbba149d34127">&#9670;&nbsp;</a></span>~Communicator()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mscclpp::Communicator::~Communicator </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroy the communicator. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a3f6184e06629f370d23fa67170c358c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f6184e06629f370d23fa67170c358c4">&#9670;&nbsp;</a></span>bootstrap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="classmscclpp_1_1Bootstrap.html">Bootstrap</a>&gt; mscclpp::Communicator::bootstrap </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the bootstrap held by this communicator.</p>
<dl class="section return"><dt>Returns</dt><dd>std::shared_ptr&lt;Bootstrap&gt; The bootstrap held by this communicator. </dd></dl>

</div>
</div>
<a id="a80c0ba6e6ccfdd827521a03535e575e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80c0ba6e6ccfdd827521a03535e575e6">&#9670;&nbsp;</a></span>connectOnSetup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmscclpp_1_1NonblockingFuture.html">NonblockingFuture</a>&lt;std::shared_ptr&lt;<a class="el" href="classmscclpp_1_1Connection.html">Connection</a>&gt; &gt; mscclpp::Communicator::connectOnSetup </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>remoteRank</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmscclpp_1_1EndpointConfig.html">EndpointConfig</a>&#160;</td>
          <td class="paramname"><em>localConfig</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Connect to a remote rank on setup.</p>
<p>This function only prepares metadata for connection. The actual connection is made by a following call of <a class="el" href="classmscclpp_1_1Communicator.html#aae26dc138f2b2cbf14bfcb7e39266ca0">setup()</a>. Note that this function is two-way and a connection from rank <code>i</code> to remote rank <code>j</code> needs to have a counterpart from rank <code>j</code> to rank <code>i</code>. Note that with IB, buffers are registered at a page level and if a buffer is spread through multiple pages and do not fully utilize all of them, IB's QP has to register for all involved pages. This potentially has security risks if the connection's accesses are given to a malicious process.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">remoteRank</td><td>The rank of the remote process. </td></tr>
    <tr><td class="paramname">tag</td><td>The tag of the connection for identifying it. </td></tr>
    <tr><td class="paramname">config</td><td>The configuration for the local endpoint. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="classmscclpp_1_1NonblockingFuture.html" title="A non-blocking future that can be used to check if a value is ready and retrieve it.">NonblockingFuture</a>&lt;<a class="el" href="classmscclpp_1_1NonblockingFuture.html" title="A non-blocking future that can be used to check if a value is ready and retrieve it.">NonblockingFuture</a>&lt;std::shared_ptr&lt;Connection&gt;&gt;&gt; A non-blocking future of shared pointer to the connection. </dd></dl>

</div>
</div>
<a id="ab242faa5778c1f8a9abdb1e95b5274ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab242faa5778c1f8a9abdb1e95b5274ca">&#9670;&nbsp;</a></span>context()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="classmscclpp_1_1Context.html">Context</a>&gt; mscclpp::Communicator::context </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the context held by this communicator.</p>
<dl class="section return"><dt>Returns</dt><dd>std::shared_ptr&lt;Context&gt; The context held by this communicator. </dd></dl>

</div>
</div>
<a id="a6a6489423bc5cb54d82062344f6f14c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a6489423bc5cb54d82062344f6f14c4">&#9670;&nbsp;</a></span>onSetup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mscclpp::Communicator::onSetup </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="structmscclpp_1_1Setuppable.html">Setuppable</a> &gt;&#160;</td>
          <td class="paramname"><em>setuppable</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add a custom <a class="el" href="structmscclpp_1_1Setuppable.html" title="A base class for objects that can be set up during Communicator::setup().">Setuppable</a> object to a list of objects to be setup later, when <a class="el" href="classmscclpp_1_1Communicator.html#aae26dc138f2b2cbf14bfcb7e39266ca0">setup()</a> is called.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">setuppable</td><td>A shared pointer to the <a class="el" href="structmscclpp_1_1Setuppable.html" title="A base class for objects that can be set up during Communicator::setup().">Setuppable</a> object. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1a78462696471fbc78784be5e4448499"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a78462696471fbc78784be5e4448499">&#9670;&nbsp;</a></span>recvMemoryOnSetup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmscclpp_1_1NonblockingFuture.html">NonblockingFuture</a>&lt;<a class="el" href="classmscclpp_1_1RegisteredMemory.html">RegisteredMemory</a>&gt; mscclpp::Communicator::recvMemoryOnSetup </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>remoteRank</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>tag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Receive memory on setup.</p>
<p>This function registers a receive from a remote process that will happen by a following call of <a class="el" href="classmscclpp_1_1Communicator.html#aae26dc138f2b2cbf14bfcb7e39266ca0">setup()</a>. The receive will carry information about a registered memory on the remote process.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">remoteRank</td><td>The rank of the remote process. </td></tr>
    <tr><td class="paramname">tag</td><td>The tag to use for identifying the receive. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>NonblockingFuture&lt;RegisteredMemory&gt; A non-blocking future of registered memory. </dd></dl>

</div>
</div>
<a id="a537a32056272f718ca913a23bde5f1c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a537a32056272f718ca913a23bde5f1c8">&#9670;&nbsp;</a></span>registerMemory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmscclpp_1_1RegisteredMemory.html">RegisteredMemory</a> mscclpp::Communicator::registerMemory </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmscclpp_1_1TransportFlags.html">TransportFlags</a>&#160;</td>
          <td class="paramname"><em>transports</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Register a region of GPU memory for use in this communicator's context.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>Base pointer to the memory. </td></tr>
    <tr><td class="paramname">size</td><td>Size of the memory region in bytes. </td></tr>
    <tr><td class="paramname">transports</td><td>Transport flags. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="classmscclpp_1_1RegisteredMemory.html" title="Represents a block of memory that has been registered to a Context.">RegisteredMemory</a> A handle to the buffer. </dd></dl>

</div>
</div>
<a id="a1791887f6a3197ab46253b948077d1a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1791887f6a3197ab46253b948077d1a1">&#9670;&nbsp;</a></span>remoteRankOf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mscclpp::Communicator::remoteRankOf </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classmscclpp_1_1Connection.html">Connection</a> &amp;&#160;</td>
          <td class="paramname"><em>connection</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the remote rank a connection is connected to.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connection</td><td>The connection to get the remote rank for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The remote rank the connection is connected to. </dd></dl>

</div>
</div>
<a id="ad17015b7dc79d3848e39c844d69b785c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad17015b7dc79d3848e39c844d69b785c">&#9670;&nbsp;</a></span>sendMemoryOnSetup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mscclpp::Communicator::sendMemoryOnSetup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmscclpp_1_1RegisteredMemory.html">RegisteredMemory</a>&#160;</td>
          <td class="paramname"><em>memory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>remoteRank</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>tag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Send information of a registered memory to the remote side on setup.</p>
<p>This function registers a send to a remote process that will happen by a following call of <a class="el" href="classmscclpp_1_1Communicator.html#aae26dc138f2b2cbf14bfcb7e39266ca0">setup()</a>. The send will carry information about a registered memory on the local process.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">memory</td><td>The registered memory buffer to send information about. </td></tr>
    <tr><td class="paramname">remoteRank</td><td>The rank of the remote process. </td></tr>
    <tr><td class="paramname">tag</td><td>The tag to use for identifying the send. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aae26dc138f2b2cbf14bfcb7e39266ca0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae26dc138f2b2cbf14bfcb7e39266ca0">&#9670;&nbsp;</a></span>setup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mscclpp::Communicator::setup </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Setup all objects that have registered for setup.</p>
<p>This includes previous calls of <a class="el" href="classmscclpp_1_1Communicator.html#ad17015b7dc79d3848e39c844d69b785c">sendMemoryOnSetup()</a>, <a class="el" href="classmscclpp_1_1Communicator.html#a1a78462696471fbc78784be5e4448499">recvMemoryOnSetup()</a>, <a class="el" href="classmscclpp_1_1Communicator.html#a80c0ba6e6ccfdd827521a03535e575e6">connectOnSetup()</a>, and <a class="el" href="classmscclpp_1_1Communicator.html#a6a6489423bc5cb54d82062344f6f14c4">onSetup()</a>. It is allowed to call this function multiple times, where the n-th call will only setup objects that have been registered after the (n-1)-th call. </p>

</div>
</div>
<a id="a3d7c2f328081e381014fa6c5598988e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d7c2f328081e381014fa6c5598988e6">&#9670;&nbsp;</a></span>tagOf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mscclpp::Communicator::tagOf </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classmscclpp_1_1Connection.html">Connection</a> &amp;&#160;</td>
          <td class="paramname"><em>connection</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the tag a connection was made with.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connection</td><td>The connection to get the tag for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The tag the connection was made with. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="core_8hpp_source.html">core.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
